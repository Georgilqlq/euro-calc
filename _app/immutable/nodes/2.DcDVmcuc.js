import"../chunks/DsnmJJEf.js";import{Z as ue,n as be,S as Y,o as L,A as xe,p as Ee,aa as m,ag as we,ah as ge,ai as ye,aj as ae,R as J,z as V,M as Te,T as Ae,w as Q,ak as Se,al as k,am as Me,an as Ie,ao as re,X as ve,i as fe,ap as Ce,aq as de,ar as Ne,as as qe,at as De,au as P,y as oe,P as Re,av as Fe,W as Le,aw as ke,J as He,ax as ce,ay as Oe,v as Ve,az as ze,aA as Be,t as We,e as Xe,aB as Ye,aC as Je,$ as Pe,a1 as _e,a4 as te,a3 as le,a0 as Ue,a5 as w,af as M,a6 as x,aD as ne,aE as U,aF as Z}from"../chunks/B6KZRrFD.js";import{s as B}from"../chunks/CzYuPdFF.js";import{r as W,a as ie}from"../chunks/s40wuMkl.js";function Ze(e,r){return r}function $e(e,r,a){for(var n=e.items,l=[],t=r.length,i=0;i<t;i++)Fe(r[i].e,l,!0);var o=t>0&&l.length===0&&a!==null;if(o){var g=a.parentNode;Le(g),g.append(a),n.clear(),C(e,r[0].prev,r[t-1].next)}ke(l,()=>{for(var p=0;p<t;p++){var b=r[p];o||(n.delete(b.k),C(e,b.prev,b.next)),oe(b.e,!o)}})}function Ge(e,r,a,n,l,t=null){var i=e,o={flags:r,items:new Map,first:null};{var g=e;i=L?Y(xe(g)):g.appendChild(ue())}L&&Ee();var p=null,b=!1,I=new Map,s=we(()=>{var v=a();return fe(v)?v:v==null?[]:ve(v)}),c,u;function f(){Ke(u,c,o,I,i,l,r,n,a),t!==null&&(c.length===0?p?de(p):p=Q(()=>t(i)):p!==null&&Ne(p,()=>{p=null}))}be(()=>{u??=He,c=m(s);var v=c.length;if(b&&v===0)return;b=v===0;let S=!1;if(L){var A=ge(i)===ye;A!==(v===0)&&(i=ae(),Y(i),J(!1),S=!0)}if(L){for(var d=null,h,_=0;_<v;_++){if(V.nodeType===Te&&V.data===Ae){i=V,S=!0,J(!1);break}var y=c[_],T=n(y,_);h=j(V,o,d,null,y,T,_,l,r,a),o.items.set(T,h),d=h}v>0&&Y(ae())}if(L)v===0&&t&&(p=Q(()=>t(i)));else if(Se()){var N=new Set,E=k;for(_=0;_<v;_+=1){y=c[_],T=n(y,_);var R=o.items.get(T)??I.get(T);R?pe(R,y,_):(h=j(null,o,null,null,y,T,_,l,r,a,!0),I.set(T,h)),N.add(T)}for(const[q,F]of o.items)N.has(q)||E.skipped_effects.add(F.e);E.add_callback(f)}else f();S&&J(!0),m(s)}),L&&(i=V)}function Ke(e,r,a,n,l,t,i,o,g){var p=r.length,b=a.items,I=a.first,s=I,c,u=null,f=[],v=[],S,A,d,h;for(h=0;h<p;h+=1){if(S=r[h],A=o(S,h),d=b.get(A),d===void 0){var _=n.get(A);if(_!==void 0){n.delete(A),b.set(A,_);var y=u?u.next:s;C(a,u,_),C(a,_,y),$(_,y,l),u=_}else{var T=s?s.e.nodes_start:l;u=j(T,a,u,u===null?a.first:u.next,S,A,h,t,i,g)}b.set(A,u),f=[],v=[],s=u.next;continue}if(pe(d,S,h),(d.e.f&P)!==0&&de(d.e),d!==s){if(c!==void 0&&c.has(d)){if(f.length<v.length){var N=v[0],E;u=N.prev;var R=f[0],q=f[f.length-1];for(E=0;E<f.length;E+=1)$(f[E],N,l);for(E=0;E<v.length;E+=1)c.delete(v[E]);C(a,R.prev,q.next),C(a,u,R),C(a,q,N),s=N,u=q,h-=1,f=[],v=[]}else c.delete(d),$(d,s,l),C(a,d.prev,d.next),C(a,d,u===null?a.first:u.next),C(a,u,d),u=d;continue}for(f=[],v=[];s!==null&&s.k!==A;)(s.e.f&P)===0&&(c??=new Set).add(s),v.push(s),s=s.next;if(s===null)continue;d=s}f.push(d),u=d,s=d.next}if(s!==null||c!==void 0){for(var F=c===void 0?[]:ve(c);s!==null;)(s.e.f&P)===0&&F.push(s),s=s.next;var X=F.length;if(X>0){var D=p===0?l:null;$e(a,F,D)}}e.first=a.first&&a.first.e,e.last=u&&u.e;for(var H of n.values())oe(H.e);n.clear()}function pe(e,r,a,n){Me(e.v,r),e.i=a}function j(e,r,a,n,l,t,i,o,g,p,b){var I=(g&qe)!==0,s=(g&De)===0,c=I?s?Ie(l,!1,!1):re(l):l,u=(g&Ce)===0?i:re(i),f={i:u,v:c,k:t,a:null,e:null,prev:a,next:n};try{if(e===null){var v=document.createDocumentFragment();v.append(e=ue())}return f.e=Q(()=>o(e,c,u,p),L),f.e.prev=a&&a.e,f.e.next=n&&n.e,a===null?b||(r.first=f):(a.next=f,a.e.next=f.e),n!==null&&(n.prev=f,n.e.prev=f.e),f}finally{}}function $(e,r,a){for(var n=e.next?e.next.e.nodes_start:a,l=r?r.e.nodes_start:a,t=e.e.nodes_start;t!==null&&t!==n;){var i=Re(t);l.before(t),t=i}}function C(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function me(e,r,a=!1){if(e.multiple){if(r==null)return;if(!fe(r))return ze();for(var n of e.options)n.selected=r.includes(z(n));return}for(n of e.options){var l=z(n);if(Be(l,r)){n.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function Qe(e){var r=new MutationObserver(()=>{me(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ve(()=>{r.disconnect()})}function je(e,r,a=r){var n=!0;ce(e,"change",l=>{var t=l?"[selected]":":checked",i;if(e.multiple)i=[].map.call(e.querySelectorAll(t),z);else{var o=e.querySelector(t)??e.querySelector("option:not([disabled])");i=o&&z(o)}a(i)}),Oe(()=>{var l=r();if(me(e,l,n),n&&l===void 0){var t=e.querySelector(":checked");t!==null&&(l=z(t),a(l))}e.__value=l,n=!1}),Qe(e)}function z(e){return"__value"in e?e.__value:e.value}function se(e,r,a=r){var n=new WeakSet;ce(e,"input",async l=>{var t=l?e.defaultValue:e.value;if(t=G(e)?K(t):t,a(t),k!==null&&n.add(k),await We(),t!==(t=r())){var i=e.selectionStart,o=e.selectionEnd;e.value=t??"",o!==null&&(e.selectionStart=i,e.selectionEnd=Math.min(o,e.value.length))}}),(L&&e.defaultValue!==e.value||Xe(r)==null&&e.value)&&(a(G(e)?K(e.value):e.value),k!==null&&n.add(k)),Ye(()=>{var l=r();if(e===document.activeElement){var t=Je??k;if(n.has(t))return}G(e)&&l===K(e.value)||e.type==="date"&&!l&&!e.value||l!==e.value&&(e.value=l??"")})}function G(e){var r=e.type;return r==="number"||r==="range"}function K(e){return e===""?null:+e}var ea=_e("<option> </option>"),aa=_e('<div class="container content svelte-1uha8ag"><div class="mb-3"><label for="cost">Получена сума</label> <div class="input-group mb-3"><input id="cost" type="number" class="form-control" aria-label="Text input with dropdown button"/> <select id="currency" class="form-select"></select></div></div> <div class="mb-3"><label for="total">Дължима сума</label> <div class="input-group mb-3"><input id="total" type="number" class="form-control" aria-label="Text input with dropdown button"/> <span class="input-group-text"> </span></div></div> <div class="row"><div class="col-6"><label for="diffLeva">Ресто в лева</label> <div class="input-group mb-3"><input id="diffLeva" type="number" readonly="" disabled class="form-control" aria-label="Text input with dropdown button"/> <span class="input-group-text"> </span></div></div> <div class="col-6"><label for="diffEuro">Ресто в евро</label> <div class="input-group mb-3"><input id="diffEuro" type="number" readonly="" disabled class="form-control" aria-label="Text input with dropdown button"/> <span class="input-group-text"> </span></div></div></div></div>');function ia(e,r){Pe(r,!0);const a=[{id:1,text:"лв."},{id:2,text:"€"}],n=1.95583;let l=Z(void 0),t=Z(void 0),i=Z(void 0),o=ne(()=>m(l)==a[0]?(m(t)/n-m(i)).toFixed(2):m(t)-m(i)),g=ne(()=>m(l)==a[0]?(m(t)-m(i)*n).toFixed(2):((m(t)-m(i))*n).toFixed(2));var p=aa(),b=w(p),I=M(w(b),2),s=w(I);W(s);var c=M(s,2);Ge(c,21,()=>a,Ze,(D,H)=>{var O=ea(),he=w(O,!0);x(O);var ee={};te(()=>{B(he,m(H).text),ee!==(ee=m(H))&&(O.value=(O.__value=m(H))??"")}),le(D,O)}),x(c),x(I),x(b);var u=M(b,2),f=M(w(u),2),v=w(f);W(v);var S=M(v,2),A=w(S,!0);x(S),x(f),x(u);var d=M(u,2),h=w(d),_=M(w(h),2),y=w(_);W(y);var T=M(y,2),N=w(T,!0);x(T),x(_),x(h);var E=M(h,2),R=M(w(E),2),q=w(R);W(q);var F=M(q,2),X=w(F,!0);x(F),x(R),x(E),x(d),x(p),te(()=>{B(A,a[1].text),ie(y,m(g)),B(N,a[0].text),ie(q,m(o)),B(X,a[1].text)}),se(s,()=>m(t),D=>U(t,D)),je(c,()=>m(l),D=>U(l,D)),se(v,()=>m(i),D=>U(i,D)),le(e,p),Ue()}export{ia as component};
