import"../chunks/DsnmJJEf.js";import{e as ue,b as he,s as J,h as H,D as xe,a as ge,t as m,ab as Ee,r as we,H as ye,c as ae,d as U,k as V,ac as Te,ad as Ae,f as $,i as Se,g as F,ae as Ie,af as Me,ag as re,ah as ve,J as fe,ai as Ce,j as de,p as Ne,aj as qe,ak as De,al as W,C as oe,am as ke,an as He,ao as Le,ap as Re,aq as Fe,ar as ce,as as Oe,A as Ve,at as Ye,au as ze,V as Be,n as Je,av as Ue,aw as We,a1 as Xe,a2 as _e,a4 as te,a5 as le,a6 as Ge,a7 as w,a9 as I,a8 as g,aa as z,ax as ne,ay as X,az as G}from"../chunks/BhK0a0z0.js";import{r as B,s as ie,a as K}from"../chunks/BPeE0mw6.js";function Ke(e,r){return r}function Pe(e,r,a){for(var n=e.items,t=[],l=r.length,u=0;u<l;u++)He(r[u].e,t,!0);var c=l>0&&t.length===0&&a!==null;if(c){var x=a.parentNode;Le(x),x.append(a),n.clear(),N(e,r[0].prev,r[l-1].next)}Re(t,()=>{for(var p=0;p<l;p++){var h=r[p];c||(n.delete(h.k),N(e,h.prev,h.next)),oe(h.e,!c)}})}function Qe(e,r,a,n,t,l=null){var u=e,c={flags:r,items:new Map,first:null};{var x=e;u=H?J(xe(x)):x.appendChild(ue())}H&&ge();var p=null,h=!1,S=new Map,i=Ee(()=>{var f=a();return fe(f)?f:f==null?[]:ve(f)}),_,s;function v(){Ze(s,_,c,S,u,t,r,n,a),l!==null&&(_.length===0?p?de(p):p=$(()=>l(u)):p!==null&&Ne(p,()=>{p=null}))}he(()=>{s??=Fe,_=m(i);var f=_.length;if(h&&f===0)return;h=f===0;let M=!1;if(H){var y=we(u)===ye;y!==(f===0)&&(u=ae(),J(u),U(!1),M=!0)}if(H){for(var d=null,b,o=0;o<f;o++){if(V.nodeType===Te&&V.data===Ae){u=V,M=!0,U(!1);break}var T=_[o],A=n(T,o);b=j(V,c,d,null,T,A,o,t,r,a),c.items.set(A,b),d=b}f>0&&J(ae())}if(H)f===0&&l&&(p=$(()=>l(u)));else if(Se()){var C=new Set,E=F;for(o=0;o<f;o+=1){T=_[o],A=n(T,o);var q=c.items.get(A)??S.get(A);q?pe(q,T,o):(b=j(null,c,null,null,T,A,o,t,r,a,!0),S.set(A,b)),C.add(A)}for(const[k,L]of c.items)C.has(k)||E.skipped_effects.add(L.e);E.add_callback(v)}else v();M&&U(!0),m(i)}),H&&(u=V)}function Ze(e,r,a,n,t,l,u,c,x){var p=r.length,h=a.items,S=a.first,i=S,_,s=null,v=[],f=[],M,y,d,b;for(b=0;b<p;b+=1){if(M=r[b],y=c(M,b),d=h.get(y),d===void 0){var o=n.get(y);if(o!==void 0){n.delete(y),h.set(y,o);var T=s?s.next:i;N(a,s,o),N(a,o,T),P(o,T,t),s=o}else{var A=i?i.e.nodes_start:t;s=j(A,a,s,s===null?a.first:s.next,M,y,b,l,u,x)}h.set(y,s),v=[],f=[],i=s.next;continue}if(pe(d,M,b),(d.e.f&W)!==0&&de(d.e),d!==i){if(_!==void 0&&_.has(d)){if(v.length<f.length){var C=f[0],E;s=C.prev;var q=v[0],k=v[v.length-1];for(E=0;E<v.length;E+=1)P(v[E],C,t);for(E=0;E<f.length;E+=1)_.delete(f[E]);N(a,q.prev,k.next),N(a,s,q),N(a,k,C),i=C,s=k,b-=1,v=[],f=[]}else _.delete(d),P(d,i,t),N(a,d.prev,d.next),N(a,d,s===null?a.first:s.next),N(a,s,d),s=d;continue}for(v=[],f=[];i!==null&&i.k!==y;)(i.e.f&W)===0&&(_??=new Set).add(i),f.push(i),i=i.next;if(i===null)continue;d=i}v.push(d),s=d,i=d.next}if(i!==null||_!==void 0){for(var L=_===void 0?[]:ve(_);i!==null;)(i.e.f&W)===0&&L.push(i),i=i.next;var D=L.length;if(D>0){var O=p===0?t:null;Pe(a,L,O)}}e.first=a.first&&a.first.e,e.last=s&&s.e;for(var R of n.values())oe(R.e);n.clear()}function pe(e,r,a,n){Ie(e.v,r),e.i=a}function j(e,r,a,n,t,l,u,c,x,p,h){var S=(x&qe)!==0,i=(x&De)===0,_=S?i?Me(t,!1,!1):re(t):t,s=(x&Ce)===0?u:re(u),v={i:s,v:_,k:l,a:null,e:null,prev:a,next:n};try{if(e===null){var f=document.createDocumentFragment();f.append(e=ue())}return v.e=$(()=>c(e,_,s,p),H),v.e.prev=a&&a.e,v.e.next=n&&n.e,a===null?h||(r.first=v):(a.next=v,a.e.next=v.e),n!==null&&(n.prev=v,n.e.prev=v.e),v}finally{}}function P(e,r,a){for(var n=e.next?e.next.e.nodes_start:a,t=r?r.e.nodes_start:a,l=e.e.nodes_start;l!==null&&l!==n;){var u=ke(l);t.before(l),l=u}}function N(e,r,a){r===null?e.first=a:(r.next=a,r.e.next=a&&a.e),a!==null&&(a.prev=r,a.e.prev=r&&r.e)}function me(e,r,a=!1){if(e.multiple){if(r==null)return;if(!fe(r))return Ye();for(var n of e.options)n.selected=r.includes(Y(n));return}for(n of e.options){var t=Y(n);if(ze(t,r)){n.selected=!0;return}}(!a||r!==void 0)&&(e.selectedIndex=-1)}function $e(e){var r=new MutationObserver(()=>{me(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Ve(()=>{r.disconnect()})}function je(e,r,a=r){var n=!0;ce(e,"change",t=>{var l=t?"[selected]":":checked",u;if(e.multiple)u=[].map.call(e.querySelectorAll(l),Y);else{var c=e.querySelector(l)??e.querySelector("option:not([disabled])");u=c&&Y(c)}a(u)}),Oe(()=>{var t=r();if(me(e,t,n),n&&t===void 0){var l=e.querySelector(":checked");l!==null&&(t=Y(l),a(t))}e.__value=t,n=!1}),$e(e)}function Y(e){return"__value"in e?e.__value:e.value}function se(e,r,a=r){var n=new WeakSet;ce(e,"input",async t=>{var l=t?e.defaultValue:e.value;if(l=Q(e)?Z(l):l,a(l),F!==null&&n.add(F),await Be(),l!==(l=r())){var u=e.selectionStart,c=e.selectionEnd;e.value=l??"",c!==null&&(e.selectionStart=u,e.selectionEnd=Math.min(c,e.value.length))}}),(H&&e.defaultValue!==e.value||Je(r)==null&&e.value)&&(a(Q(e)?Z(e.value):e.value),F!==null&&n.add(F)),Ue(()=>{var t=r();if(e===document.activeElement){var l=We??F;if(n.has(l))return}Q(e)&&t===Z(e.value)||e.type==="date"&&!t&&!e.value||t!==e.value&&(e.value=t??"")})}function Q(e){var r=e.type;return r==="number"||r==="range"}function Z(e){return e===""?null:+e}var ea=_e("<option> </option>"),aa=_e('<div class="container content svelte-1uha8ag"><div class="mb-3"><label for="cost">Получена сума</label> <div class="input-group mb-3"><input id="cost" type="number" class="form-control" aria-label="Text input with dropdown button"/> <select id="currency" class="form-select"></select></div></div> <div class="mb-3"><label for="total">Дължима сума</label> <div class="input-group mb-3"><input id="total" type="number" class="form-control" aria-label="Text input with dropdown button"/> <span class="input-group-text"> </span></div></div> <div class="row"><div class="col-6"><label for="diffLeva">Ресто в лева</label> <div class="input-group mb-3"><input id="diffLeva" type="number" readonly="" disabled class="form-control" aria-label="Text input with dropdown button"/> <span class="input-group-text"> </span></div></div> <div class="col-6"><label for="diffEuro">Ресто в евро</label> <div class="input-group mb-3"><input id="diffEuro" type="number" readonly="" disabled class="form-control" aria-label="Text input with dropdown button"/> <span class="input-group-text"> </span></div></div></div></div>');function na(e,r){Xe(r,!0);const a=[{id:1,text:"лв."},{id:2,text:"€"}];let n=G(void 0),t=G(void 0),l=G(void 0),u=ne(()=>m(n)==a[0]?(m(t)/K-m(l)).toFixed(2):m(t)-m(l)),c=ne(()=>m(n)==a[0]?(m(t)-m(l)*K).toFixed(2):((m(t)-m(l))*K).toFixed(2));var x=aa(),p=w(x),h=I(w(p),2),S=w(h);B(S);var i=I(S,2);Qe(i,21,()=>a,Ke,(D,O)=>{var R=ea(),be=w(R,!0);g(R);var ee={};te(()=>{z(be,m(O).text),ee!==(ee=m(O))&&(R.value=(R.__value=m(O))??"")}),le(D,R)}),g(i),g(h),g(p);var _=I(p,2),s=I(w(_),2),v=w(s);B(v);var f=I(v,2),M=w(f,!0);g(f),g(s),g(_);var y=I(_,2),d=w(y),b=I(w(d),2),o=w(b);B(o);var T=I(o,2),A=w(T,!0);g(T),g(b),g(d);var C=I(d,2),E=I(w(C),2),q=w(E);B(q);var k=I(q,2),L=w(k,!0);g(k),g(E),g(C),g(y),g(x),te(()=>{z(M,a[1].text),ie(o,m(c)),z(A,a[0].text),ie(q,m(u)),z(L,a[1].text)}),se(S,()=>m(t),D=>X(t,D)),je(i,()=>m(n),D=>X(n,D)),se(v,()=>m(l),D=>X(l,D)),le(e,x),Ge()}export{na as component};
